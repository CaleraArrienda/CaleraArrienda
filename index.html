<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para ti, mi Pochi Bimune</title>
    <style>
        /* Estilos Generales y Paleta de Colores */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400&display=swap');

        :root {
            --bg-color: #fff0f5; /* Lavender Blush */
            --primary-color: #ff85a2; /* Rosa un poco m√°s fuerte */
            --secondary-color: #6a0572; /* Morado profundo para el texto */
            --accent-color: #ffb3c6; /* Rosa claro */
            --text-color: #4a4a4a;
            --font-title: 'Dancing Script', cursive;
            --font-body: 'Poppins', sans-serif;
        }

        body {
            font-family: var(--font-body);
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
        }

        .container { max-width: 800px; margin: 0 auto; padding: 0 20px; }
        header { background-color: var(--primary-color); min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; position: relative; }
        header h1 { font-family: var(--font-title); font-size: 5rem; margin: 0; text-shadow: 2px 2px 5px rgba(0,0,0,0.3); animation: fadeInDown 1.5s; }
        header p { font-size: 1.5rem; animation: fadeInUp 1.5s 0.5s; }
        .scroll-down { position: absolute; bottom: 30px; font-size: 1rem; animation: bounce 2s infinite; }
        section { padding: 100px 0; border-bottom: 2px dashed var(--accent-color); text-align: center;}
        section h2 { font-family: var(--font-title); font-size: 3.5rem; color: var(--secondary-color); margin-bottom: 50px; }
        .content-box { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); line-height: 1.8; font-size: 1.1rem; text-align: left;}
        strong { color: var(--primary-color); }
        .video-container { position: relative; width: 100%; padding-bottom: 56.25%; height: 0; margin-top: 20px;}
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 15px; }

        /* Efecto M√°quina de Escribir */
        #carta .content-box { text-align: left; }
        .typed-paragraph { opacity: 0; animation: fadeIn 1s forwards; animation-delay: var(--delay); }
        .typed-char { opacity: 0; animation: fadeIn 0.1s forwards; animation-delay: var(--delay); }

        /* Secci√≥n Cielo Estrellado de Promesas */
        #promesas {
            background-color: #000020;
            position: relative;
            overflow: hidden;
        }
        #promesas h2, #promesas .promise-item { color: white; }
        #stars-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .promises-list { list-style: none; padding: 0; position: relative; z-index: 1; text-align: center; }
        .promise-item { font-family: var(--font-title); font-size: 2rem; margin-bottom: 30px; opacity: 0; transform: translateY(50px); transition: all 1s ease; }
        .promise-item.visible { opacity: 1; transform: translateY(0); }

        /* Quiz Interactivo */
        #quiz-container { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        #quiz-question { font-size: 1.4rem; font-weight: bold; margin-bottom: 20px; color: var(--secondary-color); }
        .quiz-options { display: grid; grid-template-columns: 1fr; gap: 10px; }
        .quiz-option { background-color: var(--accent-color); color: var(--secondary-color); padding: 15px; border-radius: 10px; border: 2px solid transparent; cursor: pointer; transition: all 0.3s ease; text-align: center; }
        .quiz-option:hover { background-color: var(--primary-color); color: white; }
        .quiz-option.selected { border-color: var(--secondary-color); }
        .quiz-option.correct { background-color: #a7d7c5; color: white; }
        .quiz-option.incorrect { background-color: #ff6961; color: white; }
        #quiz-feedback { margin-top: 20px; font-weight: bold; }
        #quiz-result { text-align: center; font-size: 1.5rem; font-family: var(--font-title); color: var(--primary-color); }

        /* Juego Final del Perd√≥n */
        #juego .content-box {text-align:center;}
        #question { font-size: 1.5rem; font-weight: bold; color: var(--secondary-color); }
        .buttons-container { margin-top: 30px; display: flex; justify-content: center; align-items: center; gap: 20px; min-height: 80px;}
        .btn { padding: 15px 30px; border: none; border-radius: 50px; font-size: 1.2rem; cursor: pointer; transition: all 0.3s ease; color: white; font-weight: bold; }
        #yesBtn { background-color: #4CAF50; }
        #noBtn { background-color: #f44336; position: relative; }
        #system-error, #gracias-mensaje { display: none; margin-top: 30px; }
        #system-error { padding: 20px; background-color: #2c2c2c; color: #00ff00; font-family: 'Courier New', monospace; border: 2px solid #00ff00; text-align:left;}
        #gracias-mensaje { font-size: 2rem; font-family: var(--font-title); color: var(--primary-color); }

        /* Animaciones */
        .reveal { opacity: 0; transform: translateY(100px); transition: all 1.2s ease-in-out; }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-50px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-15px); } 60% { transform: translateY(-10px); } }
        @keyframes fadeIn { to { opacity: 1; } }

        /* Responsive */
        @media screen and (max-width: 768px) {
            header h1 { font-size: 3rem; }
            section h2 { font-size: 2.5rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Mi Pochi Bimune...</h1>
        <p>Un intento desesperado por reconstruir nuestro universo.</p>
        <div class="scroll-down">Desliza, por favor...</div>
    </header>

    <section id="inicio">
        <div class="container reveal">
            <h2>Reproduce esto mientras lees...</h2>
            <p style="font-size: 1.2rem;">Por favor, Pochi, dale play. Esta canci√≥n sonaba en mi cabeza mientras te escrib√≠a cada palabra...</p>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/VYa72m8jouc" title="Sufjan Stevens - Fourth of July" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
            </div>
        </div>
    </section>

    <section id="carta">
        <div class="container">
            <h2 class="reveal">Mi coraz√≥n en palabras</h2>
            <div id="carta-texto" class="content-box reveal">
                </div>
        </div>
    </section>

    <section id="graduacion">
        <div class="container" style="text-align: center;">
            <h2 class="reveal">Un sue√±o que no quiero perder</h2>
            <div class="content-box reveal">
                <div style="font-size: 4rem;">üéì</div>
                <p>Hay un evento que se acerca, uno de los d√≠as m√°s importantes de tu vida: <strong>tu graduaci√≥n</strong>. He so√±ado con ese momento. So√±√© con verte cruzar ese escenario, con tu toga y birrete, con esa sonrisa de orgullo y √©xito que ilumina todo a tu alrededor.</p>
                <p>No me quiero perder eso. No me imagino no estar ah√≠, aplaudiendo m√°s fuerte que nadie. Por favor, d√©jame compartir ese d√≠a contigo. Eres mi campeona.</p>
            </div>
        </div>
    </section>

    <section id="promesas">
        <canvas id="stars-canvas"></canvas>
        <div class="container">
            <h2 class="reveal">Mis Promesas Bajo las Estrellas</h2>
            <ul class="promises-list">
                <li class="promise-item">Prometo escucharte siempre, incluso cuando no tenga las palabras correctas.</li>
                <li class="promise-item">Prometo ser tu mayor fan en cada uno de tus logros, como tu graduaci√≥n.</li>
                <li class="promise-item">Prometo nunca m√°s tomar una decisi√≥n tan est√∫pida que nos aleje.</li>
                <li class="promise-item">Prometo trabajar cada d√≠a para ser el hombre que mereces.</li>
                <li class="promise-item">Prometo recordarte lo incre√≠ble que eres, especialmente en los d√≠as que lo olvides.</li>
            </ul>
        </div>
    </section>
    
    <section id="quiz">
        <div class="container">
            <h2 class="reveal">¬øCu√°nto nos conocemos?</h2>
            <div id="quiz-container" class="reveal">
                <div id="quiz-question"></div>
                <div class="quiz-options"></div>
                <div id="quiz-feedback"></div>
                <button id="next-question-btn" class="btn" style="background-color: var(--primary-color); margin-top: 20px; display: none;">Siguiente</button>
                <div id="quiz-result"></div>
            </div>
        </div>
    </section>
    
    <section id="nuestra-cancion">
         <div class="container reveal">
            <h2>Y para el Futuro... Nuestra Canci√≥n</h2>
            <p style="font-size: 1.2rem;">Esc√∫chala... imagina todo lo que podemos construir. Esto es lo que quiero para nosotros.</p>
            <div class="video-container">
                 <iframe src="https://www.youtube.com/embed/N8Nzb-oc8XA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </section>
    
    <section id="juego">
        <div class="container reveal">
            <h2>La pregunta m√°s importante...</h2>
            <div class="content-box">
                <p id="question">Pochi Bimune, ¬øme das la oportunidad de arreglar mi error m√°s grande?</p>
                <div id="gracias-mensaje">¬°Gracias! Prometo no fallarte. Jam√°s. ‚ù§Ô∏è</div>
                <div class="buttons-container">
                    <button class="btn" id="yesBtn">S√≠, hablemos</button>
                    <button class="btn" id="noBtn">No</button>
                </div>
                <div id="system-error">
                    <p>&gt; System.Error: 0xHEARTBREAK</p>
                    <p>&gt; Descripci√≥n: Solicitud rechazada. Coraz√≥n del sistema no permite esta opci√≥n.</p>
                    <p>&gt; Soy esta p√°gina web. Edward puso todo su coraz√≥n aqu√≠. Vi lo arrepentido que est√°. Dale una oportunidad, por favor. Lo quiere intentar de verdad.</p>
                </div>
            </div>
        </div>
    </section>

    <footer style="padding: 40px 0; text-align:center;">
        <p>Hecho con un teclado lleno de l√°grimas y un alma llena de esperanza.<br>Siempre tuyo, Edward.</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- L√≥gica para animaciones al hacer scroll ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    // Iniciar efectos espec√≠ficos cuando se ven por primera vez
                    if (entry.target.id === 'carta-texto' && !entry.target.dataset.typed) {
                        typewriterEffect();
                        entry.target.dataset.typed = 'true';
                    }
                     if (entry.target.classList.contains('promise-item')) {
                        entry.target.classList.add('visible');
                    }
                }
            });
        }, { threshold: 0.2 });

        document.querySelectorAll('.reveal, .promise-item').forEach(el => observer.observe(el));

        // --- L√≥gica del efecto de M√°quina de Escribir ---
        function typewriterEffect() {
            const letterContent = [
                "Mi querid√≠sima Pochi,",
                "Si est√°s leyendo esto, gracias. S√© que te he fallado. S√© que te lastim√©, y tomar la decisi√≥n de terminar fue la estupidez m√°s grande de mi vida. Cada d√≠a sin ti es un recordatorio constante de mi error.",
                "Hoy llor√© mucho. Llor√© pensando en nosotros, en tus risas. Llor√© de arrepentimiento y de miedo. Miedo de haberte perdido para siempre. Me siento completamente perdido sin mi norte, sin mi gu√≠a... sin ti.",
                "No busco excusas, porque no las hay. Te pido, desde el fondo de mi alma rota, que me perdones. Te amo tanto, Pochi. M√°s de lo que las palabras pueden expresar. Eres mi primer pensamiento al despertar y el √∫ltimo antes de dormir.",
                "Con todo el amor de mi arrepentido coraz√≥n,",
                "Edward"
            ];
            const letterBox = document.getElementById('carta-texto');
            letterBox.innerHTML = ''; 

            let totalCharDelay = 0;
            const charInterval = 30; // ms entre caracteres

            letterContent.forEach((paragraphText, pIndex) => {
                const p = document.createElement('p');
                letterBox.appendChild(p);
                for (let i = 0; i < paragraphText.length; i++) {
                    const charSpan = document.createElement('span');
                    charSpan.textContent = paragraphText[i];
                    charSpan.classList.add('typed-char');
                    charSpan.style.setProperty('--delay', `${totalCharDelay * charInterval}ms`);
                    p.appendChild(charSpan);
                    totalCharDelay++;
                }
                 totalCharDelay += 15; // Pausa entre p√°rrafos
            });
        }
        
        // --- L√≥gica del Cielo Estrellado ---
        const canvas = document.getElementById('stars-canvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = canvas.parentElement.offsetHeight;
            let stars = [];

            function createStars() {
                stars = [];
                for (let i = 0; i < 150; i++) {
                    stars.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height,
                        radius: Math.random() * 1.5,
                        alpha: Math.random(),
                        dAlpha: Math.random() * 0.02 - 0.01
                    });
                }
            }

            function animateStars() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                stars.forEach(star => {
                    star.alpha += star.dAlpha;
                    if (star.alpha <= 0 || star.alpha >= 1) {
                        star.dAlpha *= -1;
                    }
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
                    ctx.fill();
                });
                requestAnimationFrame(animateStars);
            }
            createStars();
            animateStars();
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = canvas.parentElement.offsetHeight;
                createStars();
            });
             // Asegurarnos que la altura del canvas se ajuste al contenido
            const promisesSection = document.getElementById('promesas');
            new ResizeObserver(() => {
                canvas.height = promisesSection.offsetHeight;
                createStars();
            }).observe(promisesSection);
        }

        // --- L√≥gica del Quiz ---
        const quizData = [
            // PERSONALIZA ESTAS PREGUNTAS Y RESPUESTAS
            { question: "¬øCu√°l fue el lugar de nuestra primera cita 'oficial'?", options: ["El cine", "Un parque", "Esa cafeter√≠a especial", "Tu casa"], answer: 2 },
            { question: "¬øQu√© apodo cari√±oso uso m√°s contigo?", options: ["Mi amor", "Pochi Bimune", "Cielo", "Beb√©"], answer: 1 },
            { question: "¬øCu√°l es mi comida favorita que t√∫ preparas (o intentas preparar)?", options: ["Pasta", "Tacos", "Hamburguesas", "Arepas"], answer: 0 },
            { question: "¬øDe qu√© color eran mis ojos cuando te dije 'te amo' por primera vez?", options: ["Color normal", "Llenos de l√°grimas de felicidad", "Cerrados por los nervios", "Color amor"], answer: 1 }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        const questionEl = document.getElementById('quiz-question');
        const optionsEl = document.querySelector('.quiz-options');
        const feedbackEl = document.getElementById('quiz-feedback');
        const nextBtn = document.getElementById('next-question-btn');
        const resultEl = document.getElementById('quiz-result');
        
        function loadQuiz() {
            feedbackEl.textContent = '';
            nextBtn.style.display = 'none';
            const currentQuestion = quizData[currentQuestionIndex];
            questionEl.innerText = currentQuestion.question;
            optionsEl.innerHTML = '';
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('div');
                button.innerText = option;
                button.classList.add('quiz-option');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                optionsEl.appendChild(button);
            });
        }

        function selectAnswer(e) {
            const selectedButton = e.target;
            const selectedIndex = parseInt(selectedButton.dataset.index);
            const correctIndex = quizData[currentQuestionIndex].answer;
            
            document.querySelectorAll('.quiz-option').forEach(btn => {
                btn.removeEventListener('click', selectAnswer); // Desactivar opciones
            });

            if (selectedIndex === correctIndex) {
                score++;
                selectedButton.classList.add('correct');
                feedbackEl.textContent = "¬°Correcto! Como si hubiera sido ayer...";
                feedbackEl.style.color = 'green';
            } else {
                selectedButton.classList.add('incorrect');
                 feedbackEl.textContent = "Quiz√°s me equivoqu√©... pero lo importante es el recuerdo.";
                feedbackEl.style.color = 'red';
            }
            nextBtn.style.display = 'block';
        }

        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuiz();
            } else {
                showResults();
            }
        });

        function showResults() {
            questionEl.style.display = 'none';
            optionsEl.style.display = 'none';
            nextBtn.style.display = 'none';
            feedbackEl.style.display = 'none';
            resultEl.innerHTML = `No importa la puntuaci√≥n. Cada segundo a tu lado es un recuerdo que atesoro. Gracias por jugar conmigo.`;
        }
        
        loadQuiz();


        // --- L√≥gica del Juego del Perd√≥n ---
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        noBtn.addEventListener('mouseover', () => {
            const container = noBtn.parentElement;
            const containerRect = container.getBoundingClientRect();
            const btnRect = noBtn.getBoundingClientRect();
            const newTop = Math.random() * (containerRect.height - btnRect.height);
            const newLeft = Math.random() * (containerRect.width - btnRect.width);
            
            noBtn.style.position = 'absolute';
            noBtn.style.top = `${newTop}px`;
            noBtn.style.left = `${newLeft}px`;
        });
        
         noBtn.addEventListener('click', () => {
             document.getElementById('system-error').style.display = 'block';
         });

        yesBtn.addEventListener('click', () => {
            document.getElementById('question').style.display = 'none';
            document.querySelector('.buttons-container').style.display = 'none';
            document.getElementById('system-error').style.display = 'none';
            document.getElementById('gracias-mensaje').style.display = 'block';
            
            // Opcional: abrir WhatsApp
             setTimeout(() => {
                 window.location.href = "https://wa.me/TUNUMERO?text=Hablemos,%20Edward..."; 
                 // REEMPLAZA TUNUMERO por tu n√∫mero con c√≥digo de pa√≠s, ej: 573001234567
             }, 2000);
        });
    });
    </script>
</body>
</html>
